# 요청과 응답

## 요청의 중요성
- 클라이언트가 요청을 정의하고, 백엔드는 이를 정확히 이해해야 함.
  - 단순히 데이터 하나만 보내는 것이 아님.
  - 요청의 개념은 매우 중요하며, 이를 통해 클라이언트와 서버 간 상호작용이 이루어짐.

## 서버의 요청 처리
- 서버는 요청을 파싱하여 그 의미를 이해함.
  - 요청이 몇 개인지 확인하고, 각 요청을 처리해야 함.
- 요청의 처리 과정:
  1. 요청이 무엇인지 식별.
  2. 데이터베이스 쿼리 수행.
  3. 요청 처리 완료 후 응답 반환.

## 클라이언트의 응답 처리
- 클라이언트는 응답을 파싱하고 분석하여 원하는 작업을 수행함.
- 요청 및 응답 처리 과정에서 직렬화(Serialization)와 역직렬화(Deserialization)가 포함됨.
  - 직렬화는 비용이 발생함.

## 요청 및 응답의 효율성
- 기존 SOAP, XML 방식은 파싱 비용이 높아 JSON 및 REST로 이동.
- JSON은 직관적이지만 파싱 비용이 높아 더 빠른 프로토콜 버퍼(Protocol Buffers)로 전환되기도 함.

## 프로토콜과 메시지 형식
- 주로 사용되는 웹 프로토콜: HTTP, DNS, SSH 등.
- 요청과 응답은 사용 중인 프로토콜 및 메시지 형식에 따라 정의됨.
  - 클라이언트와 서버가 동일한 형식을 이해하고 동의해야 함.
  - 메시지가 바이너리 형식인 경우, 양쪽에서 이를 파싱하고 객체로 변환해야 함.

## 요청 및 응답의 구조
- 요청과 응답은 경계가 있으며, 프로토콜과 메시지 형식에 의해 정의됨.
  - 프로토콜은 메시지의 시작과 끝을 규정.
- 응답 또한 메시지와 프로토콜을 준수해야 함.

## 사례 및 구현 방식
### 1. 이미지 업로드 백엔드 앱
- 전체 이미지를 클라이언트에서 서버로 전송 가능.
  - 전송 파일 크기에 제한이 있을 수 있음.
- 이미지를 작은 청크로 나눠 전송할 수도 있음.
  - 실패 시 복구 불가 문제가 있을 수 있음.

### 2. 채팅 알림 전송
- 서버는 클라이언트의 상태를 확인(Polling)하며, 채팅 진행 여부를 파악.

### 3. 비동기식 처리
- 처리 시간이 오래 걸리는 요청은 비동기식 방식으로 처리 가능.

## 요청과 응답의 비용
- 요청 작성 및 응답 처리에는 비용이 소모됨.
  - JSON을 이진 데이터로 직렬화하거나, 프로토콜 버퍼로 변환 후 전송.
  - 네트워크 전송에도 시간이 소요되고 비용이 발생.

## 추가적인 고려 사항
- GraphQL: 단순한 요청을 묶어서 처리할 수 있어 인기가 많음.
- RPC(Remote Procedure Call): 메서드의 차이를 모호하게 하여 추상화를 제공하지만, 속도 차이를 이해하고 고려해야 함.
- SQL 요청 처리: SQL을 분석하고 실행 계획을 준비한 후, 테이블 스캔과 쿼리 실행을 통해 응답 생성.

